<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Happy Birthday, Manan ‚ù§Ô∏è</title>
  <style>  
    /* ===== Base pastel look ===== */
    body{
      margin:0; padding:0;
      font-family: "Georgia", serif;
      background: linear-gradient(135deg,#ffdde1,#ee9ca7);
      color:#2c2c2c; text-align:center; overflow-x:hidden;
    }
    h1{
      font-size:3em; margin:40px 16px 10px; color:#4a2c2a; animation:fadeIn 1.2s ease;
    }
    .pickup{
      font-size:1.3em; margin:20px auto; padding:15px; width:min(800px,90%);
      background:rgba(255,255,255,.85); border-radius:15px;
      box-shadow:0 4px 12px rgba(0,0,0,.18); animation:floatUp 1.2s ease;
    }
    .poem,.essence{
      width:min(900px,90%); margin:30px auto; padding:22px;
      background:rgba(255,255,255,.92); border-radius:20px;
      box-shadow:0 6px 15px rgba(0,0,0,.18); line-height:1.75;
    }
    .essence{ font-style:italic; color:#5a3c3c; }

    @keyframes fadeIn{ from{opacity:0; transform:translateY(-16px)} to{opacity:1; transform:translateY(0)} }
    @keyframes floatUp{ from{opacity:0; transform:translateY(24px)} to{opacity:1; transform:translateY(0)} }

    /* ===== Floating hearts ===== */
    .heart{
      position:fixed; bottom:-20px; font-size:24px; color:#e60073;
      animation:rise 8s infinite ease-in; z-index:5; pointer-events:none;
    }
    @keyframes rise{ 0%{transform:translateY(0) rotate(0);opacity:1}
      100%{transform:translateY(-100vh) rotate(360deg);opacity:0} }

    /* ===== Popup with photo ===== */
    .popup{
      position:fixed; left:50%; top:50%; transform:translate(-50%,-50%) scale(.85);
      background:rgba(255,255,255,.95); padding:18px 18px 14px;
      border-radius:22px; box-shadow:0 10px 28px rgba(0,0,0,.28);
      z-index:1000; width:min(92vw,380px); opacity:0; transition:.4s ease;
    }
    .popup.show{ opacity:1; transform:translate(-50%,-50%) scale(1) }
    .popup h3{ margin:6px 0 10px; color:#b05463 }
    .popup img{
      width:100%; max-height:380px; object-fit:cover; border-radius:16px; background:#f6f6f6;
    }
    .actions{ display:flex; gap:10px; justify-content:center; margin-top:12px; flex-wrap:wrap }
    .btn{
      border:none; padding:10px 16px; border-radius:12px; cursor:pointer;
      box-shadow:0 4px 10px rgba(0,0,0,.12); transition:.25s;
      background:#f9d5e5; color:#3a2c30; font-weight:600;
    }
    .btn:hover{ transform:translateY(-1px); background:#f4b7cb }
    .close-btn{ background:#ff2e8a; color:#fff }
    .close-btn:hover{ background:#e21f76 }

    .hidden{ display:none }

    #confetti-canvas{ position:fixed; inset:0; pointer-events:none; z-index:900 }
  </style>
</head>
<body>
  <h1>Happy Birthday, Manan ‚ù§Ô∏è</h1>

  <div class="pickup">
    ‚ÄúHappy Birthday to the only guy who makes my heart race faster than Messi on a counter attack
    and makes me blush harder than a Jordan drop.‚Äù
  </div>

  <div class="poem">
    <h2>My Dearest Heart,</h2>
    <p>
      In thine eyes I behold the very heavens, where all my joys do rise and set.<br>
      The world may spin and time may wither, yet my love for thee shall never falter.<br><br>
      Thou art the melody to my silence, the flame that warms my coldest night.<br>
      When distance parts us, still my soul clings fast, for no ocean nor storm can sever what is writ in stars.<br><br>
      If love be a kingdom, thou art my crown. If life be a journey, thou art my home.<br>
      So long as breath doth dwell within me, I am ever thine, and thou ever mine.<br><br>
      Forever in thy keeping, Thy true love.
    </p>
  </div>

  <div class="essence">
    You‚Äôre the center of my world and my greatest joy.<br>
    Even if distance or time separates us, nothing can break my love.<br>
    You‚Äôre both my strength and my safe place.<br>
    I will always belong to you, forever.
  </div>

  <!-- Three Popups -->
  <div id="popup1" class="popup hidden">
    <h3>üíó Happy Birthday, My Love üíó</h3>
    <img src="us1.jpg" alt="Us 1">
    <div class="actions">
      <button class="btn" onclick="nextPopup(1)">Next ‚û°</button>
    </div>
  </div>

  <div id="popup2" class="popup hidden">
    <h3>üíû First Photo üíû</h3>
    <img src="us2.jpg" alt="Us 2">
    <div class="actions">
      <button class="btn" onclick="prevPopup(2)">‚¨Ö Back</button>
      <button class="btn" onclick="nextPopup(2)">Next ‚û°</button>
    </div>
  </div>

  <div id="popup3" class="popup hidden">
    <h3>‚ù§Ô∏è Forever Us ‚ù§Ô∏è</h3>
    <img src="us3.jpg" alt="Us 3">
    <div class="actions">
      <button class="btn" onclick="prevPopup(3)">‚¨Ö Back</button>
      <button class="btn close-btn" onclick="closeAll()">Close ‚úñ</button>
    </div>
  </div>

  <!-- Confetti -->
  <canvas id="confetti-canvas"></canvas>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <!-- Song -->
  <audio id="popupSong" src="song.mp3"></audio>

  <script>
    /* --- Hearts --- */
    function createHeart(){
      const heart=document.createElement("div");
      heart.className="heart"; heart.textContent="‚ù§Ô∏è";
      heart.style.left=Math.random()*100+"vw";
      heart.style.animationDuration=(4+Math.random()*4)+"s";
      document.body.appendChild(heart);
      setTimeout(()=>heart.remove(),8000);
    }
    setInterval(createHeart,550);

    /* --- Confetti --- */
    const confettiCanvas = document.getElementById('confetti-canvas');
    const confettiInstance = confetti.create(confettiCanvas, { resize: true, useWorker: true });

    function burst(){
      confettiInstance({
        particleCount: 240,
        spread: 120,
        startVelocity: 45,
        scalar: 1.05,
        origin: { y: 0.6 }
      });
    }

    setInterval(() => {
      confettiInstance({
        particleCount: 70,
        spread: 100,
        ticks: 220,
        origin: { x: Math.random(), y: Math.random() * 0.4 + 0.1 }
      });
    }, 6000);

    /* --- Popup + Music logic --- */
    const song = document.getElementById('popupSong');
    let songTimeout;

    function showPopup(id){
      document.getElementById("popup"+id).classList.remove('hidden');
      document.getElementById("popup"+id).classList.add('show');
      burst();
      playSong();
    }
    function hidePopup(id){
      document.getElementById("popup"+id).classList.add('hidden');
      document.getElementById("popup"+id).classList.remove('show');
    }
    function nextPopup(id){
      hidePopup(id);
      showPopup(id+1);
    }
    function prevPopup(id){
      hidePopup(id);
      showPopup(id-1);
    }
    function closeAll(){
      hidePopup(3);
      song.pause();
      song.currentTime = 0;
      clearTimeout(songTimeout);
    }

    function playSong(){
      clearTimeout(songTimeout);
      song.currentTime = 0;
      song.play();
      songTimeout = setTimeout(()=>{
        song.pause();
        song.currentTime=0;
      },30000); // play 30s max
    }

    window.addEventListener('load',()=>{
      setTimeout(()=>{ showPopup(1); },1000);
    });
  </script>
</body>
</html>


